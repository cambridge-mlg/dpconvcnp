generators:
  train:
    _target_: dpconvcnp.data.gp.RandomScaleGPGenerator
    seed: ${params.generator_train_seed}
    dim: ${params.dim}
    kernel_type: eq
    min_log10_lengthscale: -0.602
    max_log10_lengthscale: -0.602
    noise_std: 0.2
    min_num_ctx: 1
    max_num_ctx: 512
    min_num_trg: 256
    max_num_trg: 256
    context_range: [[-2.0, 2.0]]
    target_range: [[-4.0, 4.0]]
    samples_per_epoch: 16384
    batch_size: 16
    min_epsilon: 3
    max_epsilon: 3
    min_log10_delta: -3
    max_log10_delta: -3
  valid:
    _target_: dpconvcnp.data.gp.RandomScaleGPGenerator
    seed: ${params.generator_valid_seed}
    dim: ${params.dim}
    kernel_type: eq
    min_log10_lengthscale: -0.602
    max_log10_lengthscale: -0.602
    noise_std: 0.2
    min_num_ctx: 1
    max_num_ctx: 512
    min_num_trg: 256
    max_num_trg: 256
    context_range: [[-2.0, 2.0]]
    target_range: [[-4.0, 4.0]]
    samples_per_epoch: 4096
    batch_size: 16
    min_epsilon: 3
    max_epsilon: 3
    min_log10_delta: -3
    max_log10_delta: -3
    reset_seed_at_epoch_end: true

model:
  _target_: dpconvcnp.model.dpconvcnp.DPConvCNP
  dim: ${params.dim}
  points_per_unit: 32
  margin: 0.1
  lengthscale_init: 0.1
  y_bound_init: 2.0
  w_noise_init: 0.5
  encoder_lengthscale_trainable: true
  decoder_lengthscale_trainable: true
  y_bound_trainable: true
  w_noise_trainable: true
  conv_net: ${conv_net}

conv_net:
  _target_: dpconvcnp.model.conv.UNet
  first_channels: 32
  last_channels: 2
  kernel_size: 5
  num_channels: [64, 64, 64, 64, 64, 64]
  strides: [2, 2, 2, 2, 2, 2]
  dim: ${params.dim}
  seed: ${params.architecture_seed}
  activation: relu

optimizer:
  _target_: tensorflow.keras.optimizers.Adam
  learning_rate: 1e-5

params:
  dim: 1
  generator_train_seed: [0, 0]
  generator_valid_seed: [0, 1]
  architecture_seed: 2
  experiment_seed: [0, 3]

misc:
  results_root: _experiments
  experiment_name: null
